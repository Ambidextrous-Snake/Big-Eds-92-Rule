I'm sorry for the hassle, Edwin‚Äîlet's get your code working. The raw text issue locally is due to TextEdit's rich text mode adding junk (as in your screenshot). Here's the clean, full code again. Follow these steps exactly to test locally:

1. Open TextEdit > New document.
2. Format > Make Plain Text (Shift+Cmd+T).
3. Paste the code below.
4. File > Save > Name "index.html" (uncheck "Use .txt if no extension provided").
5. Double-click the file in Finder to open in browser.

It should render the full page now. For GitHub, push this to main root as index.html‚ÄîPages will build it.

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Big Ed's $92 Rule</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Press Start 2P', cursive;
            background: linear-gradient(180deg, #87ceeb 0%, #98d98e 100%);
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }
        
        /* Village scene - using your uploaded image */
        body::before {
            content: '';
            position: fixed;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 60%;
            background: 
                /* Use the reference image pattern - simplified pixel village */
                url('https://thumbs.dreamstime.com/b/video-game-background-setting-retro-bit-pixel-art-cottage-mountain-river-nature-landscape-great-design-animation-350972867.jpg') repeat-x center bottom,
                linear-gradient(180deg, transparent 0%, #5c8a3d 60%, #4a7c2f 100%);
            background-size: auto 100%, 100% 100%;
            animation: village-scroll 180s linear infinite;
            z-index: -10;
            pointer-events: none;
            opacity: 0.9;
        }
        
        @keyframes village-scroll {
            from { background-position: 0 bottom, 0 0; }
            to { background-position: -2000px bottom, 0 0; }
        }
        
        /* Foreground grass overlay */
        body::after {
            content: '';
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 15%;
            background: 
                repeating-linear-gradient(
                    90deg,
                    #5c8a3d 0px,
                    #5c8a3d 12px,
                    #6b9d47 12px,
                    #6b9d47 24px
                );
            z-index: -8;
            pointer-events: none;
        }
        
        /* Animated 8-bit villagers */
        .star {
            position: absolute;
            width: 16px;
            height: 24px;
            bottom: 180px;
            animation: villager-walk 20s linear infinite;
        }
        
        /* Villager sprite with different colors */
        .star::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                /* Head */
                radial-gradient(circle 6px at 8px 6px, #fdbcb4 0%, #fdbcb4 100%),
                /* Body */
                linear-gradient(180deg, transparent 8px, var(--shirt-color, #4a90e2) 8px, var(--shirt-color, #4a90e2) 16px, transparent 16px),
                /* Legs */
                linear-gradient(180deg, transparent 16px, var(--pants-color, #2d5f8d) 16px, var(--pants-color, #2d5f8d) 24px, transparent 24px);
            background-repeat: no-repeat;
            animation: walk-cycle 0.4s steps(2) infinite;
        }
        
        @keyframes villager-walk {
            from { 
                left: -50px;
                transform: scaleX(1);
            }
            49% { 
                transform: scaleX(1);
            }
            50% { 
                transform: scaleX(-1);
            }
            to { 
                left: calc(100% + 50px);
                transform: scaleX(-1);
            }
        }
        
        @keyframes walk-cycle {
            0% { transform: translateY(0); }
            50% { transform: translateY(-2px); }
        }
        
        /* Container */
        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Title Screen - Wood Sign Style with realistic texture */
        .title-screen {
            text-align: center;
            padding: 60px 20px;
            background: 
                /* Wood grain */
                repeating-linear-gradient(
                    0deg,
                    #d4a574 0px,
                    #c19162 2px,
                    #b8885a 3px,
                    #c19162 5px,
                    #d4a574 8px
                ),
                linear-gradient(90deg, 
                    rgba(101, 67, 33, 0.2) 0%, 
                    transparent 50%,
                    rgba(101, 67, 33, 0.2) 100%);
            border: 8px solid #6d5839;
            border-radius: 12px;
            box-shadow: 
                0 0 0 3px #8b6f47,
                inset 0 3px 10px rgba(0, 0, 0, 0.4),
                inset 0 -3px 10px rgba(255, 255, 255, 0.1),
                0 12px 0 #6d5839,
                0 16px 30px rgba(0, 0, 0, 0.7);
            margin-bottom: 40px;
            position: relative;
            overflow: visible;
            animation: sign-sway 5s ease-in-out infinite;
        }
        
        @keyframes sign-sway {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-0.5deg); }
            75% { transform: rotate(0.5deg); }
        }
        
        /* Hanging chain */
        .title-screen::before {
            content: '';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background: 
                radial-gradient(circle at center, #4a4a4a 30%, #2d2d2d 31%, #2d2d2d 60%, transparent 61%);
            border: 4px solid #1a1a1a;
            border-radius: 50%;
            box-shadow: inset 0 2px 5px rgba(255, 255, 255, 0.3);
        }
        
        /* Chain link to roof */
        .title-screen::after {
            content: '';
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 60px;
            background: 
                repeating-linear-gradient(
                    0deg,
                    #4a4a4a 0px,
                    #2d2d2d 3px,
                    #4a4a4a 6px
                );
            border-radius: 6px;
            box-shadow: inset 0 1px 2px rgba(255, 255, 255, 0.2);
        }
        
        .pixel-corner {
            position: absolute;
            width: 25px;
            height: 25px;
            background: #90ee90;
            box-shadow: 0 0 15px rgba(144, 238, 144, 0.8);
            animation: leaf-flutter 3s ease-in-out infinite;
        }
        
        .pixel-corner.top-left {
            top: -5px;
            left: -5px;
            border-radius: 50% 0 50% 50%;
            border: 3px solid #228b22;
        }
        
        .pixel-corner.top-right {
            top: -5px;
            right: -5px;
            border-radius: 0 50% 50% 50%;
            border: 3px solid #228b22;
        }
        
        .pixel-corner.bottom-left {
            bottom: -5px;
            left: -5px;
            border-radius: 50% 50% 0 50%;
            border: 3px solid #228b22;
        }
        
        .pixel-corner.bottom-right {
            bottom: -5px;
            right: -5px;
            border-radius: 50% 50% 50% 0;
            border: 3px solid #228b22;
        }
        
        @keyframes leaf-flutter {
            0%, 100% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(-10deg) scale(1.05); }
            75% { transform: rotate(10deg) scale(1.05); }
        }
        
        h1 {
            font-size: clamp(18px, 4vw, 32px);
            color: #2d1f12;
            text-shadow: 
                2px 2px 0 rgba(255, 255, 255, 0.5),
                3px 3px 5px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            animation: title-bounce 3s ease-in-out infinite;
            letter-spacing: 2px;
        }
        
        @keyframes title-bounce {
            0%, 100% { 
                transform: translateY(0) scale(1);
                filter: brightness(1);
            }
            50% { 
                transform: translateY(-8px) scale(1.02);
                filter: brightness(1.1);
            }
        }
        
        .subtitle {
            font-size: clamp(8px, 2vw, 14px);
            color: #8b4513;
            text-shadow: 
                1px 1px 0 rgba(255, 255, 255, 0.5);
            line-height: 1.8;
        }
        
        /* Status Bar - Wood Panel */
        .status-bar {
            background: 
                repeating-linear-gradient(
                    0deg,
                    #c19162 0px,
                    #b8885a 1px,
                    #a87d52 2px,
                    #b8885a 3px,
                    #c19162 5px
                );
            border: 4px solid #6d5839;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            box-shadow: 
                inset 0 2px 5px rgba(255, 255, 255, 0.2),
                inset 0 -2px 5px rgba(0, 0, 0, 0.3),
                0 6px 0 #5c4a3a,
                0 8px 20px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        .status-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 215, 0, 0.3) 20%, 
                rgba(255, 237, 78, 0.3) 50%, 
                rgba(255, 215, 0, 0.3) 80%, 
                transparent 100%);
            animation: shine-sweep 3s infinite;
        }
        
        @keyframes shine-sweep {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 12px;
            border-radius: 8px;
            border: 2px solid rgba(109, 88, 57, 0.5);
        }
        
        .status-label {
            font-size: 10px;
            color: #f5deb3;
            text-shadow: 1px 1px 0 #000;
        }
        
        .status-value {
            font-size: 12px;
            color: #fff;
            animation: value-pulse 2s infinite;
            text-shadow: 0 0 10px #ffeb3b;
        }
        
        @keyframes value-pulse {
            0%, 100% { 
                opacity: 1;
                text-shadow: 0 0 10px #ffeb3b;
            }
            50% { 
                opacity: 0.8;
                text-shadow: 0 0 20px #ffeb3b, 0 0 30px #ffd700;
            }
        }
        
        /* Character Stats - Wood Panels */
        .character-stats {
            background: 
                repeating-linear-gradient(
                    0deg,
                    #b8885a 0px,
                    #a87d52 1px,
                    #9a7049 2px,
                    #a87d52 3px,
                    #b8885a 5px
                );
            border: 4px solid #6d5839;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 
                inset 0 2px 5px rgba(255, 255, 255, 0.2),
                inset 0 -2px 5px rgba(0, 0, 0, 0.3),
                0 6px 0 #5c4a3a,
                0 8px 20px rgba(0, 0, 0, 0.5);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .stat-group {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 8px;
            border: 3px solid rgba(109, 88, 57, 0.5);
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.4);
        }
        
        .stat-header {
            font-size: 10px;
            color: #f5deb3;
            text-shadow: 1px 1px 0 #000;
            margin-bottom: 10px;
            padding-bottom: 6px;
            border-bottom: 2px solid rgba(245, 222, 179, 0.3);
            text-align: center;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 9px;
        }
        
        .stat-name {
            color: #d4a574;
            text-shadow: 1px 1px 0 #000;
        }
        
        .stat-value {
            color: #ffeb3b;
            text-shadow: 1px 1px 0 #000;
            font-weight: bold;
        }
        
        .stat-bar {
            width: 100%;
            height: 12px;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #4a3420;
            border-radius: 6px;
            overflow: hidden;
            margin-top: 4px;
            position: relative;
        }
        
        .stat-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #64b5f6 0%, #90caf9 100%);
            transition: width 0.5s ease;
            box-shadow: inset 0 2px 5px rgba(255, 255, 255, 0.5);
            position: relative;
        }
        
        .stat-bar-fill.gold {
            background: linear-gradient(90deg, #ffb74d 0%, #ffcc80 100%);
        }
        
        .stat-bar-fill.green {
            background: linear-gradient(90deg, #81c784 0%, #a5d6a7 100%);
        }
        
        .stat-bar-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, transparent 100%);
        }
        
        /* Leaderboard - Realistic Wood Board Style */
        .leaderboard {
            background: 
                /* Wood grain texture */
                repeating-linear-gradient(
                    0deg,
                    #d4a574 0px,
                    #c19162 2px,
                    #b8885a 3px,
                    #c19162 5px,
                    #d4a574 8px
                ),
                linear-gradient(90deg, 
                    rgba(101, 67, 33, 0.1) 0%, 
                    transparent 50%, 
                    rgba(101, 67, 33, 0.1) 100%);
            border: 8px solid #6d5839;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 
                /* 3D depth effect */
                0 0 0 3px #8b6f47,
                0 0 0 6px #6d5839,
                inset 0 3px 10px rgba(0, 0, 0, 0.4),
                inset 0 -3px 10px rgba(255, 255, 255, 0.1),
                0 15px 0 #5c4a3a,
                0 20px 40px rgba(0, 0, 0, 0.6);
            position: relative;
        }
        
        /* Corner metal brackets */
        .leaderboard::before {
            content: '';
            position: absolute;
            top: -8px;
            left: -8px;
            width: 40px;
            height: 40px;
            background: 
                linear-gradient(45deg, #808080 0%, #a9a9a9 50%, #808080 100%);
            border-radius: 4px;
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
            clip-path: polygon(0 0, 100% 0, 100% 50%, 50% 100%, 0 100%);
        }
        
        .leaderboard::after {
            content: '';
            position: absolute;
            top: -8px;
            right: -8px;
            width: 40px;
            height: 40px;
            background: 
                linear-gradient(45deg, #808080 0%, #a9a9a9 50%, #808080 100%);
            border-radius: 4px;
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
            clip-path: polygon(0 0, 100% 0, 100% 100%, 50% 100%, 0 50%);
        }
        
        .leaderboard .bottom-left {
            position: absolute;
            bottom: -8px;
            left: -8px;
            width: 40px;
            height: 40px;
            background: 
                linear-gradient(45deg, #808080 0%, #a9a9a9 50%, #808080 100%);
            border-radius: 4px;
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
            clip-path: polygon(0 50%, 0 100%, 100% 100%, 100% 0%, 50% 0%);
        }
        
        .leaderboard .bottom-right {
            position: absolute;
            bottom: -8px;
            right: -8px;
            width: 40px;
            height: 40px;
            background: 
                linear-gradient(45deg, #808080 0%, #a9a9a9 50%, #808080 100%);
            border-radius: 4px;
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
            clip-path: polygon(0 100%, 50% 100%, 100% 50%, 100% 0%, 0 0%);
        }
        
        h2 {
            font-size: 14px;
            color: #2d1f12;
            text-shadow: 
                1px 1px 0 rgba(255,255,255,0.5);
            margin-bottom: 20px;
            text-align: center;
            letter-spacing: 1px;
        }
        
        .stock-item {
            display: flex;
            align-items: center;
            background: rgba(0,0,0,0.3);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            border: 2px solid rgba(109, 88, 57, 0.5);
            animation: item-fade 0.5s ease;
            box-shadow: inset 0 1px 4px rgba(0,0,0,0.4);
        }
        
        @keyframes item-fade {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .rank {
            width: 30px;
            height: 30px;
            background: linear-gradient(180deg, #ffd700 0%, #d4af37 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #2d1f12;
            font-weight: bold;
            margin-right: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            text-shadow: 0 1px 0 rgba(255,255,255,0.5);
        }
        
        .stock-info {
            flex: 1;
        }
        
        .stock-symbol {
            font-size: 12px;
            color: #ffeb3b;
            text-shadow: 1px 1px 0 #000;
            margin-bottom: 4px;
        }
        
        .stock-price {
            font-size: 10px;
            color: #fff;
            text-shadow: 1px 1px 0 #000;
        }
        
        .stock-distance {
            font-size: 8px;
            color: #d4a574;
            text-shadow: 1px 1px 0 #000;
        }
        
        .stock-status {
            font-size: 8px;
            padding: 4px 8px;
            border-radius: 4px;
            text-shadow: 1px 1px 0 #000;
            white-space: nowrap;
        }
        
        .status-safe {
            background: linear-gradient(90deg, #4caf50 0%, #81c784 100%);
        }
        
        .status-climbing {
            background: linear-gradient(90deg, #ffeb3b 0%, #fff176 100%);
        }
        
        .status-warning {
            background: linear-gradient(90deg, #ff9800 0%, #ffb74d 100%);
        }
        
        .status-critical {
            background: linear-gradient(90deg, #f44336 0%, #ef5350 100%);
        }
        
        .status-champion {
            background: linear-gradient(90deg, #ffd700 0%, #ffec8b 100%);
            animation: champion-glow 1.5s infinite alternate;
        }
        
        @keyframes champion-glow {
            from { box-shadow: 0 0 5px #ffd700; }
            to { box-shadow: 0 0 15px #ffd700; }
        }
        
        /* Victory Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 100;
        }
        
        .modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background: 
                repeating-linear-gradient(
                    0deg,
                    #d4a574 0px,
                    #c19162 2px,
                    #b8885a 3px,
                    #c19162 5px,
                    #d4a574 8px
                );
            border: 8px solid #6d5839;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 0 0 3px #8b6f47, 0 20px 40px rgba(0,0,0,0.7);
            animation: modal-pop 0.5s ease;
        }
        
        @keyframes modal-pop {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .modal-content h2 {
            font-size: 20px;
            color: #ffd700;
            text-shadow: 2px 2px 0 #2d1f12;
            margin-bottom: 20px;
            animation: glow-text 1.5s infinite alternate;
        }
        
        @keyframes glow-text {
            from { text-shadow: 2px 2px 0 #2d1f12; }
            to { text-shadow: 0 0 10px #ffd700, 2px 2px 0 #2d1f12; }
        }
        
        .modal-content p {
            font-size: 14px;
            color: #2d1f12;
            text-shadow: 1px 1px 0 rgba(255,255,255,0.5);
            margin-bottom: 20px;
        }
        
        .modal-content button {
            background: linear-gradient(180deg, #ffd700 0%, #d4af37 100%);
            border: 2px solid #b8860b;
            color: #2d1f12;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            text-shadow: 1px 1px 0 rgba(255,255,255,0.5);
            box-shadow: 0 4px 0 #b8860b;
            transition: transform 0.1s;
        }
        
        .modal-content button:active {
            transform: translateY(4px);
            box-shadow: none;
        }
        
        /* Firework particles */
        .firework {
            position: absolute;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, #ffd700 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            animation: firework-fade 1s ease-out;
        }
        
        @keyframes firework-fade {
            to { opacity: 0; }
        }
        
        /* Add villagers */
        @keyframes add-villagers {
            0% { bottom: 20%; }
            100% { bottom: 18%; }
        }
    </style>
</head>
<body>
    <!-- Victory Modal -->
    <div id="victoryModal" class="modal">
        <div class="modal-content">
            <h2>NEW $92 CHAMPION!</h2>
            <p id="victoryMessage"><span id="victoryStock"></span> has reached <span id="victoryPrice"></span>!</p>
            <button onclick="closeVictory()">Continue the Quest</button>
        </div>
    </div>
    
    <div class="container">
        <!-- Title Screen -->
        <div class="title-screen">
            <div class="pixel-corner top-left"></div>
            <div class="pixel-corner top-right"></div>
            <div class="pixel-corner bottom-left"></div>
            <div class="pixel-corner bottom-right"></div>
            <h1>Big Ed's $92 Rule</h1>
            <div class="subtitle">
                Track stocks that have NEVER crossed $92...<br>
                Until they do! First time EVER!<br>
                Powered by Finnhub API
            </div>
        </div>
        
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">
                <span class="status-label">Quest Status</span>
                <span class="status-value" id="questStatus">LOADING</span>
            </div>
            <div class="status-item">
                <span class="status-label">Last Update</span>
                <span class="status-value" id="lastUpdate">--:--:--</span>
            </div>
            <div class="status-item">
                <span class="status-label">Champions Found</span>
                <span class="status-value" id="championCount">0</span>
            </div>
        </div>
        
        <!-- Character Stats -->
        <div class="character-stats">
            <div class="stat-group">
                <div class="stat-header">Quest Progress</div>
                <div class="stat-row">
                    <span class="stat-name">Legends Found</span>
                    <span class="stat-value" id="legendsFound">0</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill gold" id="legendsBar" style="width: 0%;"></div>
                </div>
                <div class="stat-row">
                    <span class="stat-name">Stocks Watched</span>
                    <span class="stat-value" id="stocksWatched">0</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill green" id="watchedBar" style="width: 0%;"></div>
                </div>
            </div>
            <div class="stat-group">
                <div class="stat-header">Market Intel</div>
                <div class="stat-row">
                    <span class="stat-name">Closest to Summit</span>
                    <span class="stat-value" id="closestStock">--</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill" id="closestBar" style="width: 0%;"></div>
                </div>
                <div class="stat-row">
                    <span class="stat-name">Distance Left</span>
                    <span class="stat-value" id="closestDistance">$--</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill" id="distanceBar" style="width: 0%;"></div>
                </div>
            </div>
            <div class="stat-group">
                <div class="stat-header">Village Economy</div>
                <div class="stat-row">
                    <span class="stat-name">Avg Price</span>
                    <span class="stat-value" id="avgPrice">$--</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill gold" id="avgBar" style="width: 0%;"></div>
                </div>
                <div class="stat-row">
                    <span class="stat-name">Market Volatility</span>
                    <span class="stat-value" id="volatility">--%</span>
                </div>
                <div class="stat-bar">
                    <div class="stat-bar-fill" id="volBar" style="width: 0%;"></div>
                </div>
            </div>
        </div>
        
        <!-- Leaderboard -->
        <div class="leaderboard">
            <div class="bottom-left"></div>
            <div class="bottom-right"></div>
            <h2>Top 10 Closest to $92 Summit</h2>
            <div id="stockList"></div>
        </div>
    </div>
    
    <script>
        // API Key - replace with your Finnhub API key
        const API_KEY = 'd5ojb81r01qjast73oggd5ojb81r01qjast73oh0';  // Get free key from finnhub.io
        
        // Track champions
        const champions = new Set();
        
        // Fetch stock data with history check - only stocks that could realistically be near $30-$92
        async function fetchStockData() {
            const stockSymbols = [
                // Tech & Growth (under $92)
                'PLTR', 'SOFI', 'SNAP', 'HOOD', 'PATH', 'PINS', 'LYFT', 'U', 'DOCU', 
                'ZM', 'OKTA', 'DELL', 'HPE', 'INTC', 'AMD', 'QCOM', 'MU',
                
                // Financial Services
                'BAC', 'WFC', 'C', 'USB', 'PNC', 'TFC', 'SCHW', 'MS', 'GS', 
                'COF', 'DFS', 'SYF', 'ALLY', 'KEY', 'CFG', 'FITB', 'HBAN', 'RF', 'ZION',
                'CG', 'IBKR', 'AXP',
                
                // Energy & Oil
                'XOM', 'CVX', 'COP', 'SLB', 'HAL', 'BKR', 'OXY', 'DVN', 'EOG', 'PXD',
                'MPC', 'PSX', 'VLO', 'HES', 'APA', 'FANG', 'CTRA', 'MRO', 'OVV', 'PR',
                
                // Materials & Mining
                'FCX', 'NUE', 'STLD', 'CLF', 'X', 'MT', 'AA', 'CENX', 'SCCO', 'GOLD',
                'AEM', 'AUY', 'KGC', 'HL', 'PAAS', 'AG', 'CDE',
                'MOS', 'CF', 'NTR', 'ALB', 'SQM', 'LYB', 'DOW', 'DD', 'EMN',
                
                // Industrials & Manufacturing
                'CAT', 'DE', 'HON', 'MMM', 'GE', 'EMR', 'ETN', 'ITW', 'PH',
                'ROK', 'DOV', 'XYL', 'FTV', 'IR', 'AME', 'IEX', 'CARR', 'OTIS',
                
                // Auto & Transportation
                'F', 'GM', 'STLA', 'RIVN', 'LCID', 'TM', 'HMC', 'AAL', 'UAL',
                'DAL', 'LUV', 'JBLU', 'ALK', 'CHRW', 'XPO',
                
                // Consumer & Retail
                'TGT', 'M', 'KSS', 'JWN', 'GPS', 'ANF', 'AEO', 'EXPR', 'URBN', 
                'KR', 'DG', 'DLTR', 'BBY',
                
                // Healthcare & Pharma
                'PFE', 'MRK', 'BMY', 'ABBV', 'GILD', 'AMGN', 'CVS', 'CI', 'HUM', 
                'CNC', 'ELV', 'MOH', 'BIIB', 'EXAS', 'BSX', 'MDT', 'ABT', 'ZBH',
                
                // Media & Entertainment
                'WBD', 'PARA', 'CMCSA', 'T', 'TMUS', 'VZ', 'CHTR', 'DISH',
                'FOXA', 'FOX', 'MSGS', 'MSG', 'LYV', 'WMG', 'CNK', 'AMC',
                
                // Real Estate REITs
                'O', 'VTR', 'ESS', 'MAA', 'UDR', 'CPT', 'KIM', 'REG', 'FRT',
                
                // Utilities & Infrastructure
                'D', 'AEP', 'EXC', 'SRE', 'PEG', 'XEL', 'ED',
                'WEC', 'ES', 'FE', 'ETR', 'DTE', 'PPL', 'AEE', 'CMS', 'CNP', 'NI',
                
                // Commodities & Energy Plays
                'SWN', 'AR', 'VALE', 'BBD', 'PLUG', 'BE', 'FCEL', 'BLDP', 'CLNE', 'RIG',
                'VAL', 'NE', 'SD', 'HP', 'CHK', 'RRC', 'CIVI', 'SM', 'MGY', 'MTDR',
                
                // Chinese ADRs & Others
                'BABA', 'NIO', 'UBER', 'DKNG', 'ABNB', 'COIN', 'NET'
            ];
            
            const stockData = [];
            const batchSize = 3;
            
            // Calculate timestamps for 5 years of data
            const now = Math.floor(Date.now() / 1000);
            const fiveYearsAgo = now - (5 * 365 * 24 * 60 * 60);
            
            console.log('Starting to fetch stock data with 5-year history check...');
            
            for (let i = 0; i < stockSymbols.length; i += batchSize) {
                const batch = stockSymbols.slice(i, i + batchSize);
                const batchPromises = batch.map(async (symbol) => {
                    try {
                        console.log(`Fetching ${symbol}...`);
                        
                        // First get current price
                        let quoteResponse;
                        try {
                            quoteResponse = await fetch(
                                `https://finnhub.io/api/v1/quote?symbol=${symbol}&token=${API_KEY}`
                            );
                        } catch (directError) {
                            console.log(`Direct fetch failed for ${symbol}, trying proxy...`);
                            const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(`https://finnhub.io/api/v1/quote?symbol=${symbol}&token=${API_KEY}`)}`;
                            quoteResponse = await fetch(proxyUrl);
                        }
                        
                        const quoteData = await quoteResponse.json();
                        
                        if (quoteData.c && quoteData.c > 0) {
                            const currentPrice = quoteData.c;
                            
                            // Now get 5 years of historical data to find all-time high
                            let historicalResponse;
                            try {
                                historicalResponse = await fetch(
                                    `https://finnhub.io/api/v1/stock/candle?symbol=${symbol}&resolution=D&from=${fiveYearsAgo}&to=${now}&token=${API_KEY}`
                                );
                            } catch (directError) {
                                console.log(`Direct historical fetch failed for ${symbol}, trying proxy...`);
                                const proxyUrl = `https://api.allorigins.win/raw?url=${encodeURIComponent(`https://finnhub.io/api/v1/stock/candle?symbol=${symbol}&resolution=D&from=${fiveYearsAgo}&to=${now}&token=${API_KEY}`)}`;
                                historicalResponse = await fetch(proxyUrl);
                            }
                            
                            const historicalData = await historicalResponse.json();
                            
                            // Find the true all-time high from historical data
                            let allTimeHigh = currentPrice;
                            if (historicalData.h && Array.isArray(historicalData.h) && historicalData.h.length > 0) {
                                allTimeHigh = Math.max(...historicalData.h);
                                console.log(`${symbol}: Current=$${currentPrice.toFixed(2)}, 5-Year High=$${allTimeHigh.toFixed(2)}`);
                            } else {
                                console.log(`${symbol}: No historical data available, using current price`);
                            }
                            
                            // Only include stocks that:
                            // 1. Are currently under $92
                            // 2. Have NEVER been above $92 in the last 5 years
                            // 3. Are above $30 for relevance
                            if (currentPrice < 92 && currentPrice > 30 && allTimeHigh < 92) {
                                console.log(`‚úì ${symbol}: $${currentPrice.toFixed(2)} (5Y High: $${allTimeHigh.toFixed(2)}) - QUALIFIED!`);
                                
                                return {
                                    symbol: symbol,
                                    price: currentPrice,
                                    historicalMax: allTimeHigh
                                };
                            } else if (allTimeHigh >= 92) {
                                console.log(`‚úó ${symbol}: Has been above $92 (5Y High: $${allTimeHigh.toFixed(2)}) - EXCLUDED`);
                            } else {
                                console.log(`‚úó ${symbol}: $${currentPrice.toFixed(2)} (outside price range)`);
                            }
                        } else {
                            console.log(`‚úó ${symbol}: Invalid data`);
                        }
                    } catch (error) {
                        console.error(`Error fetching ${symbol}:`, error);
                    }
                    return null;
                });
                
                const batchResults = await Promise.all(batchPromises);
                stockData.push(...batchResults.filter(stock => stock !== null));
                
                if (i + batchSize < stockSymbols.length) {
                    await new Promise(resolve => setTimeout(resolve, 600));
                }
            }
            
            console.log(`‚úÖ Total stocks found that have NEVER been above $92: ${stockData.length}`);
            return stockData.sort((a, b) => b.price - a.price);
        }
        
        function getStockStatus(price, historicalMax) {
            if (price >= 92 && historicalMax < 92) {
                return 'champion';
            } else if (price >= 91) {
                return 'critical';
            } else if (price >= 89) {
                return 'warning';
            } else if (price >= 87) {
                return 'climbing';
            } else {
                return 'safe';
            }
        }
        
        function getStatusText(status) {
            switch(status) {
                case 'champion': return 'üëë LEGEND!';
                case 'critical': return '‚ö° AT THE GATES!';
                case 'warning': return 'üî• FINAL PUSH!';
                case 'climbing': return '‚õ∞Ô∏è CLIMBING!';
                default: return 'üõ°Ô∏è QUESTING';
            }
        }
        
        function createFirework(x, y) {
            for (let i = 0; i < 30; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = x + 'px';
                firework.style.top = y + 'px';
                document.body.appendChild(firework);
                
                const angle = (Math.PI * 2 * i) / 30;
                const velocity = 2 + Math.random() * 3;
                const vx = Math.cos(angle) * velocity;
                const vy = Math.sin(angle) * velocity;
                
                let posX = x;
                let posY = y;
                let life = 100;
                
                const animate = () => {
                    posX += vx;
                    posY += vy;
                    life -= 2;
                    
                    firework.style.left = posX + 'px';
                    firework.style.top = posY + 'px';
                    firework.style.opacity = life / 100;
                    
                    if (life > 0) {
                        requestAnimationFrame(animate);
                    } else {
                        firework.remove();
                    }
                };
                
                animate();
            }
        }
        
        function showVictory(symbol, price) {
            document.getElementById('victoryStock').textContent = symbol;
            document.getElementById('victoryPrice').textContent = `$${price.toFixed(2)}`;
            document.getElementById('victoryModal').classList.add('active');
            
            // Create multiple fireworks
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight;
                    createFirework(x, y);
                }, i * 300);
            }
        }
        
        function closeVictory() {
            document.getElementById('victoryModal').classList.remove('active');
        }
        
        async function updateStocks() {
            const stocks = await fetchStockData();
            const stockList = document.getElementById('stockList');
            
            // Check for new champions
            stocks.forEach(stock => {
                const status = getStockStatus(stock.price, stock.historicalMax);
                if (status === 'champion' && !champions.has(stock.symbol)) {
                    champions.add(stock.symbol);
                    showVictory(stock.symbol, stock.price);
                }
            });
            
            // Update champion count
            document.getElementById('championCount').textContent = champions.size;
            
            // Take top 10
            const top10 = stocks.slice(0, 10);
            
            // Update stat screen
            document.getElementById('legendsFound').textContent = champions.size;
            document.getElementById('legendsBar').style.width = Math.min(champions.size * 10, 100) + '%';
            
            if (top10.length > 0) {
                const closest = top10[0];
                document.getElementById('closestStock').textContent = closest.symbol;
                document.getElementById('closestDistance').textContent = '$' + (92 - closest.price).toFixed(2);
                
                const avgPrice = top10.reduce((sum, s) => sum + s.price, 0) / top10.length;
                document.getElementById('avgPrice').textContent = '$' + avgPrice.toFixed(2);
            }
            
            document.getElementById('stocksWatched').textContent = top10.length;
            document.getElementById('watchedBar').style.width = (top10.length * 10) + '%';
            
            stockList.innerHTML = top10.map((stock, index) => {
                const status = getStockStatus(stock.price, stock.historicalMax);
                const distance = 92 - stock.price;
                
                return `
                    <div class="stock-item" style="animation-delay: ${index * 0.1}s">
                        <div class="rank">${index + 1}</div>
                        <div class="stock-info">
                            <div class="stock-symbol">${stock.symbol}</div>
                            <div class="stock-price">$${stock.price.toFixed(2)}</div>
                            <div class="stock-distance">${distance > 0 ? `$${distance.toFixed(2)} from summit` : 'SUMMIT REACHED!'}</div>
                        </div>
                        <div class="stock-status status-${status}">
                            ${getStatusText(status)}
                        </div>
                    </div>
                `;
            }).join('');
            
            // Update last update time
            const now = new Date();
            document.getElementById('lastUpdate').textContent = now.toLocaleTimeString();
            document.getElementById('questStatus').textContent = 'ACTIVE';
        }
        
        // Initial load - DON'T start automatically, wait for start button
        // updateStocks(); // This will be called when startApp() is triggered
        
        // Update every 2 minutes (120 seconds) to respect API rate limits
        // Finnhub free tier allows 60 calls/minute
        setInterval(updateStocks, 120000);
        
        // Add note about real API integration
        setTimeout(() => {
            console.log('%c‚öîÔ∏è BIG ED\'S $92 RULE ‚öîÔ∏è', 'font-size: 20px; color: #ffd700; font-weight: bold;');
            console.log('%cüçó NOW WITH REAL-TIME FINNHUB DATA! üçó', 'font-size: 16px; color: #ff8c00; font-weight: bold;');
            console.log('%cTracking live NYSE stock prices from Finnhub API', 'font-size: 14px; color: #f0e68c;');
            console.log('%cUpdates every 2 minutes to respect rate limits', 'font-size: 12px; color: #d4af37;');
            console.log('Stocks being tracked:', 'color: #87ceeb');
            console.log('BABA, NIO, PLTR, SOFI, RIVN, LCID, F, SNAP, AAL, BAC, WBD, GOLD, and more...');
        }, 1000);
    </script>
</body>
</html>
```